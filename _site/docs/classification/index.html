<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/font-awesome.min.css">
	
	
	<script type="text/javascript">
window.MathJax = {
  tex: {
    packages: ['base', 'ams']
  },
  loader: {
    load: ['ui/menu', '[tex]/ams']
  }
};
</script>

	<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>



    <link rel="shortcut icon" href="/favicon.ico?1">
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Classification | LISEM</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Classification" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="First we can download a sentinel-2 image, which features 12 bands as induvidual jp2 files." />
<meta property="og:description" content="First we can download a sentinel-2 image, which features 12 bands as induvidual jp2 files." />
<link rel="canonical" href="http://localhost:4000/docs/classification/" />
<meta property="og:url" content="http://localhost:4000/docs/classification/" />
<meta property="og:site_name" content="LISEM" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-09-27T16:18:49+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Classification" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"Classification","dateModified":"2021-09-27T16:18:49+02:00","datePublished":"2021-09-27T16:18:49+02:00","url":"http://localhost:4000/docs/classification/","description":"First we can download a sentinel-2 image, which features 12 bands as induvidual jp2 files.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="alternate" type="application/rss+xml" title="LISEM" href="http://localhost:4000/feed.xml" />
</head>


<body>

    <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container navbar-container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
            <a class="navbar-brand" href="/">
                <span><img src="/assets/img/logonav.png" alt="Logo"></span> LISEM
            </a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li  class="active" ><a href="/docs/home/">Docs</a></li>
                <li ><a href="/docs/downloads/">Download</a></li>
				<li ><a href="/docs/publications/">Publications</a></li>
				<li ><a href="/docs/showcase/">Showcases</a></li>
				<li ><a href="/docs/about/">About</a></li>
				<li ><a href="/blog/2020/09/04/Release-0.1.1/">Blog</a></li>
            </ul>
            <div class="navbar-right">
                <form class="navbar-form navbar-left">
                    <div class="form-group has-feedback">
                        <input id="search-box" type="search" class="form-control" placeholder="Search...">
                        <i class="fa fa-search form-control-feedback"></i>
                    </div>
                </form>
                <ul class="nav navbar-nav">
                    <li><a href="https://github.com/bastianvandenbout/LISEM"><i class="fa fa-github" aria-hidden="true"></i></a></li>
                </ul>
				<ul class="nav navbar-nav">
                    <li><a href="https://www.youtube.com/channel/UC98LY1gnu1GdOQ0X2GN0zxA"><i class="fa fa-youtube" aria-hidden="true"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
</nav>


    <div class="page-content">
        <div class="wrapper">
            <div class="container">
    <div class="row">
	<p class="text-center">
                &nbsp;
				&nbsp;
				&nbsp;
              </p>
			  
        <div class="col-md-4">
          <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-1" aria-expanded="false" aria-controls="collapse-1">
            Getting Started
          </a>
        </h4>
      </div>
      
      
      <div class="panel-collapse collapse" id="collapse-1" role="tabpanel" aria-label="Side Navigation">
        <div class="list-group">
          
            
            
            <a class="list-group-item " href="/docs/gettingstarted/">Getting Started</a>
          
            
            
            <a class="list-group-item " href="/docs/mapviewer/">Mapviewer</a>
          
            
            
            <a class="list-group-item " href="/docs/datamanipulation/">Data Manipulation</a>
          
            
            
            <a class="list-group-item " href="/docs/usingscripting/">Scripting</a>
          
            
            
            <a class="list-group-item " href="/docs/usingpython/">Using with Python</a>
          
            
            
            <a class="list-group-item " href="/docs/usingmodel/">Using the model</a>
          
        </div>
      </div>
    </div>
  
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-2" aria-expanded="false" aria-controls="collapse-2">
            Examples
          </a>
        </h4>
      </div>
      
      
      <div class="panel-collapse" id="collapse-2" role="tabpanel" aria-label="Side Navigation">
        <div class="list-group">
          
            
            
            <a class="list-group-item " href="/docs/elevationdata/">Elevation data</a>
          
            
            
            <a class="list-group-item " href="/docs/interpolation/">Interpolation</a>
          
            
            
            <a class="list-group-item " href="/docs/warping/">Warping</a>
          
            
            
            <a class="list-group-item " href="/docs/distances/">Distances</a>
          
            
            
            <a class="list-group-item active" href="/docs/classification/">Classification</a>
          
            
            
            <a class="list-group-item " href="/docs/segmentation/">Segmentation</a>
          
            
            
            <a class="list-group-item " href="/docs/filters/">Filters</a>
          
            
            
            <a class="list-group-item " href="/docs/soils/">Soils</a>
          
            
            
            <a class="list-group-item " href="/docs/calibration/">Calibration</a>
          
            
            
            <a class="list-group-item " href="/docs/webdata/">Web Data</a>
          
            
            
            <a class="list-group-item " href="/docs/dynamicmodels/">Dynamic Models</a>
          
            
            
            <a class="list-group-item " href="/docs/gpu/">GPU</a>
          
        </div>
      </div>
    </div>
  
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-3" aria-expanded="false" aria-controls="collapse-3">
            LISEM hazard model
          </a>
        </h4>
      </div>
      
      
      <div class="panel-collapse collapse" id="collapse-3" role="tabpanel" aria-label="Side Navigation">
        <div class="list-group">
          
            
            
            <a class="list-group-item " href="/docs/studysite/">Study Site Preparation</a>
          
            
            
            <a class="list-group-item " href="/docs/hydrology/">Hydrology</a>
          
            
            
            <a class="list-group-item " href="/docs/flooding/">Flooding</a>
          
            
            
            <a class="list-group-item " href="/docs/slopefailure/">SlopeFailure</a>
          
            
            
            <a class="list-group-item " href="/docs/landslide/">Landslide and Debris Flow runout</a>
          
            
            
            <a class="list-group-item " href="/docs/lisemcalibration/">LISEM Calibration</a>
          
        </div>
      </div>
    </div>
  
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-4" aria-expanded="false" aria-controls="collapse-4">
            Lisem Classic
          </a>
        </h4>
      </div>
      
      
      <div class="panel-collapse collapse" id="collapse-4" role="tabpanel" aria-label="Side Navigation">
        <div class="list-group">
          
            
            
            <a class="list-group-item " href="/docs/lisemclassic/">Lisem Classic</a>
          
        </div>
      </div>
    </div>
  
</div>

        </div>

        <div class="col-md-8">
            <h1>Classification</h1>
            <div id="markdown-content-container"><p>First we can download a sentinel-2 image, which features 12 bands as induvidual jp2 files.</p>

<p><img src="/assets/img/lu_calc1.png" alt="Classification" /></p>

<p>These are automatically supported by both the map viewer as well as the scripting language.
To cut out an extent of the dataset and store as a single-band GeoTiff file, the following script can be used:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>void main()
{
    //get the desired bands in a list
    array&lt;string&gt; names = GetItemsContaining(GetFilesInDir(),{"B01","B02","B03","B04","B05","B06","B07","B08"});
    
	//set the desired area and create a mask by cutting the second band (which is 10 meter resolution)
	Region area = Region(301575,334651,5.72216e+06,5.75079e+06);
    Map mask = RasterCut(LoadMap(names[1]),area);
	
	//make a map array, and put each band cut and warped to the right resolution (10 meters)
    array&lt;Map&gt; bands;
    for(int i = 0; i &lt; names.length(); i++)
    {
        bands.Append(RasterWarp(mask,RasterCut(LoadMap(names[i]),area)));
    }
	
	//Store result in multi-band tif file
    result.tif = bands;
}
</code></pre></div></div>
<p>Viewing the result.tif file shows the following</p>

<p><img src="/assets/img/lu_calc5.png" alt="Classification" /></p>

<p>Now, a supervised classification can be done.
First, create a new empty map:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>training.tif = result.tif[0] * 0.0;
</code></pre></div></div>

<p>Then, use the raster painter, or vector-to-raster conversion to put training data into this map.</p>

<p><img src="/assets/img/lu_calc3.png" alt="Classification" /></p>

<p>Finally, run a Support-Vector-Machine classification algorithm using the following code:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>classes.tif = SupervisedClassification(result.tif, training.tif);
</code></pre></div></div>

<p><img src="/assets/img/lu_calc4.png" alt="Classification" /></p>

<p>In order to remove small regions within the classification, the map can be regularized.
This acts similar to WindowMajority, but is a bit faster.
We can regularize with a radius of 10 pixels using the following code:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>classes_reg.tif = ClassRegularize(classes.tif, 10);
</code></pre></div></div>

<p><img src="/assets/img/lu_calc7.png" alt="Classification" /></p>

<p>An unsupervised classification can be made by specifying the number of classes (5 in our case).
It can help to clip the value range of maps, and remove outliers due to clouds.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>classes_unsuper.tif = UnSupervisedClassification(result.tif, 5);
</code></pre></div></div>

<p><img src="/assets/img/lu_calc6.png" alt="Classification" /></p>

<p>We can compare two classified maps by calculating the confusion matrix.
This can be done to compare different methods, or compare to ground truth data.
Here, to get a confusion matrix between the supervised and unsupervised classification, the following code can be used:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>confusionmatrix.tbl = MapConfusionMatrix(classes.tif,classes_unsuper.tif);
</code></pre></div></div>

<p><img src="/assets/img/lu_calc8.png" alt="Classification" /></p>

<p>Finally, a logistic binary classification can be made, for example for landslide susceptibility.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MathExpression expr = MapLogisticRegression({MapNormalize(slope.map),MapNormalize(dem.map),MapNormalize(pga.map)},training.map);
Print(expr.GetExpression());
</code></pre></div></div>
<p>The returned expression can be converted to a string by using <code class="language-plaintext highlighter-rouge">expr.GetExpression()</code>.</p>
</div>
            <div style="clear:both;">
              <p class="text-center">
                <br />
                <a target="_blank" href="https://github.com/bastianvandenbout/LISEM/discussions" class="btn btn-default" role="button">
                  <i class="fa fa-pencil fa-lg"></i> Ask a question
                </a>
              </p>
            </div>
            <hr>
            





  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  
    <ul class="pager">
      
        
        
        <li class="previous">
          <a href="/docs/distances/">
            <span aria-hidden="true">&larr;</span> Previous
          </a>
        </li>
      

      
        
        
        <li class="next">
          <a href="/docs/segmentation/">
            Next <span aria-hidden="true">&rarr;</span>
          </a>
        </li>
      
      </ul>
    <div class="clear"></div>
    

        </div>

    </div>
</div>

        </div>
    </div>

    <footer class="footer">
    <div class="container">

        <p class="text-center">
            LISEM 2021 |
            Developed by ITC, Faculty of Geo-Information Science and Earth Observation, Twente University
        </p>
        <!-- <p class="text-muted">Place sticky footer content here.</p> -->
    </div>
</footer>

    <script>
  var baseurl = ''
</script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" ></script>
<script src="/assets/js/bootstrap.min.js "></script>
<script src="/assets/js/typeahead.bundle.min.js "></script>

<script src="/assets/js/main.js "></script>

</body>

</html>
